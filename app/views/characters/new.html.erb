<h1>Create a Character</h1>
<br>
<ul>
<% if @character.errors.any? %> 
    <% @character.errors.each do |error| %>
        <li><%=error.full_message%></li>
    <% end %>
<% end %>
</ul>
<br>
<div id="character-form" class="hide">
    <%= form_with(model: [@show, @character]) do |f| %>
        <div class="form-control">
            <%= f.label :name, class: "form-label" %>
            <%= f.text_field :name, class: "form-input" %>
        </div>
        <div class="form-control">
            <%= f.label :bio, class: "form-label" %>
            <%= f.text_field :bio, class: "form-input" %>
        </div>
        
        
       
        <div class="form-control">
            <%= f.label :actor_id, class: "form-label"  %>
            <%= f.collection_select :actor_id, Actor.all, :id, :name, prompt: true, class: "form-label" %>
        </div>
        <div class="form-control">
            <%= f.label "Character Photo", class: "form-label" %>
            <%= f.file_field :avatar, class: "form-input" %>
        </div>
<% if @character.show_id == nil %>

        <div class="form-control">
                <%= f.label :show_id, class: "form-label"  %>
                <%= f.collection_select :show_id, Show.all, :id, :title, prompt: true, class: "form-label" %>
            </div>
<h2>Optionally create a show!</h2>
            <%= f.fields_for :show do |a| %>
                <%= a.label :title %>
                <%= a.text_field :title %><br>

                <%= a.label :air_time %>
                <%= a.number_field :air_time %><br>

            <% end %>
<% else %>
        <%=f.hidden_field :show_id, value: @character.show_id %>
<% end %>


        <%= f.submit "Create"%>
    <% end %>

</div>